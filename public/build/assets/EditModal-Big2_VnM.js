import{u as x,r as _,j as e}from"./app-BtU5YKbj.js";import{I as o,a as r}from"./InputLabel-bgSHh0K6.js";import{T as i}from"./TextInput-D_Dp7e2h.js";import{P as g}from"./PrimaryButton-Bl7JRp87.js";import{S as j}from"./SecondaryButton-D-bpLNKl.js";import{u as v}from"./useTrans-Dl6FgQZB.js";import{A as w}from"./AppModal-Dn-SVu76.js";function E({isOpen:d,onClose:c,user:s,roles:b}){const{t:n}=v(),{data:t,setData:l,post:f,errors:m,reset:p,processing:u}=x({name:"",email:"",password:"",password_confirmation:"",role:"",_method:"PUT"});if(_.useEffect(()=>{s&&d?l({name:s.name||"",email:s.email||"",password:"",password_confirmation:"",role:s.roles&&s.roles.length>0?s.roles[0].name:"",tenant_name:s.tenant?.name||"",tenant_slug:s.tenant?.slug||"",tenant_phone:s.tenant?.phone||"",_method:"PUT"}):d||p()},[s,d]),!s)return null;const h=a=>{a.preventDefault(),f(route("admin.users.update",s.id),{onSuccess:()=>{p(),c()}})};return e.jsx(w,{isOpen:d,onClose:c,title:n("edit"),icon:"fa-pen-to-square",size:"md",children:e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{htmlFor:"name",value:n("full_name"),required:!0}),e.jsx(i,{id:"name",name:"name",value:t.name,className:"mt-1 block w-full",onChange:a=>l("name",a.target.value),required:!0,icon:"fa-user"}),e.jsx(r,{message:m.name,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{htmlFor:"email",value:n("email_address"),required:!0}),e.jsx(i,{id:"email",type:"email",name:"email",value:t.email,className:"mt-1 block w-full",onChange:a=>l("email",a.target.value),required:!0,icon:"fa-envelope"}),e.jsx(r,{message:m.email,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{htmlFor:"password",value:n("password")}),e.jsx(i,{id:"password",type:"password",name:"password",value:t.password,className:"mt-1 block w-full",onChange:a=>l("password",a.target.value),icon:"fa-lock",placeholder:n("leave_empty_to_keep_current")}),e.jsx(r,{message:m.password,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{htmlFor:"password_confirmation",value:n("password_confirmation")}),e.jsx(i,{id:"password_confirmation",type:"password",name:"password_confirmation",value:t.password_confirmation,className:"mt-1 block w-full",onChange:a=>l("password_confirmation",a.target.value),icon:"fa-lock"}),e.jsx(r,{message:m.password_confirmation,className:"mt-2"})]}),t.role==="tenant"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{htmlFor:"tenant_name",value:n("tenant_name"),required:!0}),e.jsx(i,{id:"tenant_name",type:"text",name:"tenant_name",value:t.tenant_name||"",className:"mt-1 block w-full",onChange:a=>l("tenant_name",a.target.value),icon:"fa-building",required:!0}),e.jsx(r,{message:m.tenant_name,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{htmlFor:"tenant_slug",value:n("tenant_slug"),required:!0}),e.jsx(i,{id:"tenant_slug",type:"text",name:"tenant_slug",value:t.tenant_slug||"",className:"mt-1 block w-full",onChange:a=>l("tenant_slug",a.target.value),icon:"fa-link",required:!0}),e.jsx(r,{message:m.tenant_slug,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{htmlFor:"tenant_phone",value:n("tenant_phone")}),e.jsx(i,{id:"tenant_phone",type:"text",name:"tenant_phone",value:t.tenant_phone||"",className:"mt-1 block w-full",onChange:a=>l("tenant_phone",a.target.value),icon:"fa-phone"}),e.jsx(r,{message:m.tenant_phone,className:"mt-2"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(j,{type:"button",onClick:c,icon:"fa-xmark",rounded:"rounded-lg",disabled:u,children:n("cancel")}),e.jsx(g,{type:"submit",icon:"fa-floppy-disk",rounded:"rounded-lg",withShadow:!1,disabled:u,children:n(u?"saving_changes":"save_changes")})]})]})})}export{E as default};
