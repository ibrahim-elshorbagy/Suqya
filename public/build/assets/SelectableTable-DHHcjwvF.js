import{j as e,L as W,r as c,a as I}from"./app-DyNvkqmG.js";import{u as J}from"./useTrans-Dl6FgQZB.js";function q({variant:g="primary",className:l="",disabled:i,children:x,icon:b,size:j="xs",as:d="button",href:h,...f}){const y={primary:"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-800",edit:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900 dark:text-indigo-300 hover:bg-indigo-200 dark:hover:bg-indigo-800",delete:"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-800",status:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300 hover:bg-yellow-200 dark:hover:bg-yellow-800",success:"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800",info:"bg-cyan-100 text-cyan-700 dark:bg-cyan-900 dark:text-cyan-300 hover:bg-cyan-200 dark:hover:bg-cyan-800"},N={xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm"},S=b?e.jsx("i",{className:`fa-solid ${b}`}):null,m=`flex items-center gap-1 ${N[j]} font-medium rounded-lg transition-all ${y[g]} ${i&&"opacity-70"} ${l}`;return d==="a"?e.jsxs(W,{href:h,className:m,...f,children:[S,x]}):e.jsxs("button",{className:m,disabled:i,...f,children:[S,x]})}function ne({links:g}){return e.jsx("nav",{className:"mt-6 mb-4 flex justify-center items-center gap-1",children:g?.map((l,i)=>e.jsx(W,{preserveScroll:!0,href:l.url||"#",dangerouslySetInnerHTML:{__html:l.label},className:`inline-flex justify-center items-center h-8 min-w-8 px-3 rounded-lg text-sm transition-colors
                        ${l.active?"bg-blue-500 text-white font-medium":""}
                        ${l.url?"text-neutral-700 dark:text-neutral-300 hover:bg-blue-100 dark:hover:bg-blue-900/30 hover:text-blue-700 dark:hover:text-blue-300":"text-neutral-400 dark:text-neutral-600 cursor-not-allowed"}
                    `},i))})}function ce({onSort:g,sortField:l,sortDirection:i,perPage:x=15,totalItems:b=0,onPerPageChange:j,selectedItems:d=[],onSelectAll:h,bulkActions:f=[],onBulkAction:y,sortOptions:N=[],queryParams:S={},routeName:m,showSelection:K=!0,viewMode:O="table",onViewToggle:T,isMobile:V=!1,pageParam:C="page"}){const{t:s}=J(),[$,v]=c.useState(!1),[p,u]=c.useState(!1),[k,_]=c.useState(!1),P=[10,25,50,100],M=r=>{let o="asc";if(r===l&&i==="asc"&&(o="desc"),g)g(r,o);else if(m){let w={...Object.fromEntries(new URLSearchParams(window.location.search))};w.sort=r,w.direction=o,w[C]=1,I.get(route(m,route().params),w,{preserveState:!0,replace:!0})}u(!1)},D=r=>{if(j)j(r);else if(m){let o={...Object.fromEntries(new URLSearchParams(window.location.search))};o.per_page=r,o[C]=1,I.get(route(m,route().params),o,{preserveState:!0,replace:!0})}v(!1)},E=r=>{if(d.length!==0){if(r.requiresConfirmation){const o=r.confirmMessageKey?s(r.confirmMessageKey,{count:d.length}):r.confirmMessage||s("confirm_action",{count:d.length});if(!confirm(o))return}y(r,d),_(!1)}};c.useEffect(()=>{const r=()=>{v(!1),u(!1),_(!1)};return document.addEventListener("click",r),()=>{document.removeEventListener("click",r)}},[]);const z=r=>{r.stopPropagation()};return e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-4 text-sm",children:[e.jsx("div",{className:"flex items-center gap-2",children:K&&d.length>0?e.jsx("div",{className:"flex items-center gap-2",children:f.length>0&&e.jsxs("div",{className:"relative",onClick:z,children:[e.jsxs(q,{variant:"primary",icon:"fa-list-check",size:"sm",onClick:r=>{r.stopPropagation(),_(!k)},children:[s("bulk_actions")," (",d.length,")"]}),k&&e.jsx("div",{className:"absolute ltr:left-0 z-10 mt-1 w-48 rounded-lg shadow-lg bg-white dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-700",children:e.jsx("div",{className:"py-1",children:f.map((r,o)=>e.jsxs("button",{className:`flex items-center w-full px-4 py-2 gap-2 ltr:text-left rtl:text-right text-sm hover:bg-neutral-100 dark:hover:bg-neutral-700 ${r.variant==="delete"?"text-red-600 dark:text-red-400":r.variant==="blue"?"text-blue-600 dark:text-blue-400":r.variant==="yellow"?"text-yellow-600 dark:text-yellow-400":"text-neutral-700 dark:text-neutral-200"}`,onClick:()=>E(r),children:[r.icon&&e.jsx("i",{className:` ${r.icon}`}),r.label]},o))})})]})}):e.jsxs("div",{className:"text-neutral-500 dark:text-neutral-400",children:[b," ",s(b!==1?"items":"item")]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[!V&&T&&e.jsx(q,{variant:"primary",icon:O==="table"?"fa-th-large":"fa-table",size:"sm",onClick:T,title:s(O==="table"?"grid_view":"table_view"),children:e.jsx("span",{className:"hidden sm:inline",children:s(O==="table"?"grid_view":"table_view")})}),N.length>0&&e.jsxs("div",{className:"relative",onClick:z,children:[e.jsxs(q,{variant:"primary",icon:"fa-sort",size:"sm",onClick:r=>{r.stopPropagation(),u(!p)},children:[s("sort"),l&&e.jsxs("span",{className:"hidden sm:inline ml-1",children:[s("by")," ",s(l)," ",i==="asc"?`↑ ${s("ascending")}`:`↓ ${s("descending")}`]})]}),p&&e.jsx("div",{className:"absolute right-0 z-10 mt-1 w-48 rounded-lg shadow-lg bg-white dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-700",children:e.jsx("div",{className:"py-1",children:N.map(r=>e.jsxs("button",{className:`flex items-center w-full px-4 py-2 gap-2 text-left text-sm hover:bg-neutral-100 dark:hover:bg-neutral-700 ${l===r.field?"text-blue-600 dark:text-blue-400":"text-neutral-700 dark:text-neutral-200"}`,onClick:()=>M(r.field),children:[r.label,l===r.field&&e.jsx("i",{className:` fa-solid ${i==="asc"?"fa-arrow-up":"fa-arrow-down"}`})]},r.field))})})]}),e.jsxs("div",{className:"relative",onClick:z,children:[e.jsxs(q,{variant:"primary",icon:"fa-list-ol",size:"sm",onClick:r=>{r.stopPropagation(),v(!$)},children:[e.jsx("span",{children:x})," ",s("per_page")]}),$&&e.jsx("div",{className:"absolute right-0 z-10 mt-1 w-36 rounded-lg shadow-lg bg-white dark:bg-neutral-800 border border-neutral-300 dark:border-neutral-700",children:e.jsx("div",{className:"py-1",children:P.map(r=>e.jsx("button",{className:`flex w-full px-4 py-2 text-left text-sm hover:bg-neutral-100 dark:hover:bg-neutral-700 ${x===r?"text-blue-600 dark:text-blue-400":"text-neutral-700 dark:text-neutral-200"}`,onClick:()=>D(r),children:r},r))})})]})]})]})}function ie({columns:g,data:l,onRowClick:i=null,routeName:x,queryParams:b={},renderRow:j=null,renderCard:d=null,idField:h="id",pagination:f=null,onSort:y=null,bulkActions:N=[],sortOptions:S=[],defaultSortField:m=null,defaultSortDirection:K="asc",perPageOptions:O=[10,25,50,100],defaultPerPage:T=15,getRowClassName:V=null,getCardClassName:C=null,showSelection:s=!0,defaultView:$="table",pageParam:v="page"}){const{t:p}=J(),[u,k]=c.useState([]),[_,P]=c.useState(!1),[M,D]=c.useState(b.sort||m||""),[E,z]=c.useState(b.direction||K),[r,o]=c.useState(b.per_page||T),[w,Q]=c.useState(!1),[R,X]=c.useState(()=>typeof window<"u"&&localStorage.getItem("tableViewMode")||$);c.useEffect(()=>{typeof window<"u"&&localStorage.setItem("tableViewMode",R)},[R]),c.useEffect(()=>{const t=()=>{Q(window.innerWidth<768)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),c.useEffect(()=>{k([]),P(!1)},[l]);const Y=()=>{X(t=>t==="table"?"grid":"table")},L=t=>{k(a=>{const n=t[h];return a.includes(n)?a.filter(A=>A!==n):[...a,n]})},U=()=>{_||u.length===l.length?(k([]),P(!1)):(k(l.map(t=>t[h])),P(!0))},G=(t,a)=>{if(D(t),z(a),y)y(t,a);else if(x){let n={...Object.fromEntries(new URLSearchParams(window.location.search))};n.sort=t,n.direction=a,n[v]=1,I.get(route(x,route().params),n,{preserveState:!0,replace:!0})}},Z=t=>{if(o(t),x){let a={...Object.fromEntries(new URLSearchParams(window.location.search))};a.per_page=t,a[v]=1,I.get(route(x,route().params),a,{preserveState:!0,replace:!0})}},F=async(t,a)=>{t.handler&&(await t.handler(a),k([]))},H=(t,a,n)=>e.jsxs("div",{className:`
        relative p-4 rounded-lg border transition-all duration-200 text-center
        ${a?"border-blue-500 bg-blue-50 dark:bg-blue-950 shadow-md":"border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 hover:shadow-md"}
        ${C?C(t,n,a):""}
      `,children:[s&&e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 bg-neutral-100 border-neutral-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-neutral-800 dark:focus:ring-offset-neutral-800 focus:ring-2 dark:bg-neutral-700 dark:border-neutral-600",checked:a,onChange:A=>{A.stopPropagation(),L(t)}})}),e.jsxs("div",{className:"py-8",children:[e.jsx("i",{className:"fa-solid fa-code text-3xl text-neutral-400 dark:text-neutral-500 mb-3"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 text-sm",children:"No custom card template provided"}),e.jsx("p",{className:"text-neutral-500 dark:text-neutral-500 text-xs mt-1",children:"Please add renderCard prop to customize card display"})]})]},t[h]),ee=()=>e.jsxs("div",{className:"space-y-3",children:[s&&l.length>0&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-neutral-100 dark:bg-neutral-800 rounded-lg",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 bg-neutral-100 border-neutral-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-neutral-800 dark:focus:ring-offset-neutral-800 focus:ring-2 dark:bg-neutral-700 dark:border-neutral-600",checked:l.length>0&&u.length===l.length,onChange:U}),e.jsxs("label",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[p("select_all")," (",l.length,")"]})]}),l.length>0?l.map((t,a)=>{const n=u.includes(t[h]);return d?d(t,n,L,a):H(t,n,a)}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"fa-regular fa-face-frown text-4xl text-neutral-400 dark:text-neutral-500 mb-4"}),e.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:p("no_items_found")})]})]}),te=()=>e.jsxs("div",{className:"space-y-4",children:[s&&l.length>0&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-neutral-100 dark:bg-neutral-800 rounded-lg",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 bg-neutral-100 border-neutral-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-neutral-800 dark:focus:ring-offset-neutral-800 focus:ring-2 dark:bg-neutral-700 dark:border-neutral-600",checked:l.length>0&&u.length===l.length,onChange:U}),e.jsxs("label",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:[p("select_all")," (",l.length,")"]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-4",children:l.length>0?l.map((t,a)=>{const n=u.includes(t[h]);return d?d(t,n,L,a):H(t,n,a)}):e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx("i",{className:"fa-regular fa-face-frown text-4xl text-neutral-400 dark:text-neutral-500 mb-4"}),e.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:p("no_items_found")})]})})]}),re=()=>e.jsx("div",{className:"overflow-auto",children:e.jsxs("table",{className:"w-full text-sm rtl:text-right ltr:text-left text-neutral-800 dark:text-neutral-200",children:[e.jsx("thead",{className:"text-neutral-700 uppercase border-b-2 border-neutral-500 bg-neutral-100 dark:bg-neutral-800 dark:text-neutral-300",children:e.jsxs("tr",{children:[s&&e.jsx("th",{className:"py-2 px-3 w-10",children:e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 bg-neutral-100 border-neutral-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-neutral-800 dark:focus:ring-offset-neutral-800 focus:ring-2 dark:bg-neutral-700 dark:border-neutral-600",checked:l.length>0&&u.length===l.length,onChange:U})})}),g.map(t=>e.jsx("th",{className:`py-2 px-3 font-semibold text-nowrap ${t.className||""}`,children:e.jsxs("div",{className:"flex items-center gap-1",children:[t.icon&&e.jsx("i",{className:`fa-solid ${t.icon}`}),e.jsx("span",{children:t.label}),S.find(a=>a.field===t.field)&&e.jsx("button",{className:"ml-1",onClick:()=>G(t.field,M===t.field&&E==="asc"?"desc":"asc"),children:M===t.field?e.jsx("i",{className:`fa-solid fa-sort-${E==="asc"?"up":"down"} text-blue-500`}):e.jsx("i",{className:"fa-solid fa-sort text-neutral-400"})})]})},t.field))]})}),e.jsx("tbody",{children:l.length>0?l.map((t,a)=>{const n=u.includes(t[h]),A=V?V(t,a,n):"",ae=a%2===0?"bg-neutral-100 dark:bg-neutral-800":"bg-neutral-50 dark:bg-neutral-900";return e.jsxs("tr",{className:`transition-colors ${A||ae} border-b border-neutral-300 dark:border-neutral-800 ${n?"bg-blue-50 dark:bg-blue-950":""} ${i?"cursor-pointer":""}`,onClick:i?()=>i(t):void 0,children:[s&&e.jsx("td",{className:"px-3 py-2",onClick:B=>{B.stopPropagation(),L(t)},children:e.jsx("div",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 bg-neutral-100 border-neutral-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-neutral-800 dark:focus:ring-offset-neutral-800 focus:ring-2 dark:bg-neutral-700 dark:border-neutral-600",checked:n,onChange:()=>{}})})}),j?j(t,n,L):g.map((B,se)=>e.jsx("td",{className:"px-3 py-2",children:B.render?B.render(t):t[B.accessor]||"-"},se))]},t[h])}):e.jsx("tr",{children:e.jsxs("td",{colSpan:g.length+1,className:"px-3 py-6 text-center text-neutral-500 dark:text-neutral-400",children:[e.jsx("i",{className:"fa-regular fa-face-frown"})," ",p("no_items_found")]})})})]})}),le=()=>w?ee():R==="table"?re():te();return e.jsxs(e.Fragment,{children:[e.jsx(ce,{onSort:G,sortField:M,sortDirection:E,perPage:r,totalItems:f?f.total:l.length,onPerPageChange:Z,selectedItems:u,onSelectAll:U,bulkActions:N,onBulkAction:F,sortOptions:S,queryParams:b,routeName:x,showSelection:s,viewMode:R,onViewToggle:Y,isMobile:w,pageParam:v}),le(),f&&e.jsx(ne,{links:f.links})]})}export{q as A,ie as S};
