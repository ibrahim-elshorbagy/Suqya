import{u as f,r as _,j as e}from"./app-DyNvkqmG.js";import{I as r,a as o}from"./InputLabel-CjTnVwXt.js";import{T as d}from"./TextInput-zG4o7zjj.js";import{P as g}from"./PrimaryButton-CSZMJ6aj.js";import{S as j}from"./SecondaryButton-BaRqfZxd.js";import{u as v}from"./useTrans-Dl6FgQZB.js";import{A as w}from"./AppModal-n6mB0uBy.js";function E({isOpen:i,onClose:u,user:s,roles:N}){const{t:n}=v(),{data:t,setData:l,post:x,errors:m,reset:p,processing:c}=f({name:"",email:"",username:"",password:"",password_confirmation:"",role:"",_method:"PUT"});if(_.useEffect(()=>{s&&i?l({name:s.name||"",email:s.email||"",username:s.username||"",password:"",password_confirmation:"",role:s.roles&&s.roles.length>0?s.roles[0].name:"",tenant_name:s.tenant?.name||"",tenant_slug:s.tenant?.slug||"",tenant_phone:s.tenant?.phone||"",tenant_address:s.tenant?.address||"",_method:"PUT"}):i||p()},[s,i]),!s)return null;const h=a=>{a.preventDefault(),x(route("admin.users.update",s.id),{onSuccess:()=>{p(),u()}})};return e.jsx(w,{isOpen:i,onClose:u,title:n("edit"),icon:"fa-pen-to-square",size:"md",children:e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(r,{htmlFor:"name",value:n("full_name"),required:!0}),e.jsx(d,{id:"name",name:"name",value:t.name,className:"mt-1 block w-full",onChange:a=>l("name",a.target.value),required:!0,icon:"fa-user"}),e.jsx(o,{message:m.name,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(r,{htmlFor:"email",value:n("email_address"),required:!0}),e.jsx(d,{id:"email",type:"email",name:"email",value:t.email,className:"mt-1 block w-full",onChange:a=>l("email",a.target.value),required:!0,icon:"fa-envelope"}),e.jsx(o,{message:m.email,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(r,{htmlFor:"username",value:n("username"),required:!0}),e.jsx(d,{id:"username",name:"username",value:t.username,className:"mt-1 block w-full",onChange:a=>l("username",a.target.value),required:!0,icon:"fa-at"}),e.jsx(o,{message:m.username,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(r,{htmlFor:"password",value:n("password")}),e.jsx(d,{id:"password",type:"password",name:"password",value:t.password,className:"mt-1 block w-full",onChange:a=>l("password",a.target.value),icon:"fa-lock",placeholder:n("leave_empty_to_keep_current")}),e.jsx(o,{message:m.password,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(r,{htmlFor:"password_confirmation",value:n("password_confirmation")}),e.jsx(d,{id:"password_confirmation",type:"password",name:"password_confirmation",value:t.password_confirmation,className:"mt-1 block w-full",onChange:a=>l("password_confirmation",a.target.value),icon:"fa-lock"}),e.jsx(o,{message:m.password_confirmation,className:"mt-2"})]}),t.role==="tenant"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(r,{htmlFor:"tenant_name",value:n("tenant_name"),required:!0}),e.jsx(d,{id:"tenant_name",type:"text",name:"tenant_name",value:t.tenant_name||"",className:"mt-1 block w-full",onChange:a=>l("tenant_name",a.target.value),icon:"fa-building",required:!0}),e.jsx(o,{message:m.tenant_name,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(r,{htmlFor:"tenant_slug",value:n("tenant_slug"),required:!0}),e.jsx(d,{id:"tenant_slug",type:"text",name:"tenant_slug",value:t.tenant_slug||"",className:"mt-1 block w-full",onChange:a=>l("tenant_slug",a.target.value),icon:"fa-link",required:!0}),e.jsx(o,{message:m.tenant_slug,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(r,{htmlFor:"tenant_phone",value:n("tenant_phone")}),e.jsx(d,{id:"tenant_phone",type:"text",name:"tenant_phone",value:t.tenant_phone||"",className:"mt-1 block w-full",onChange:a=>l("tenant_phone",a.target.value),icon:"fa-phone"}),e.jsx(o,{message:m.tenant_phone,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(r,{htmlFor:"tenant_address",value:n("tenant_address")}),e.jsx(d,{id:"tenant_address",type:"text",name:"tenant_address",value:t.tenant_address||"",className:"mt-1 block w-full",onChange:a=>l("tenant_address",a.target.value),icon:"fa-location-dot"}),e.jsx(o,{message:m.tenant_address,className:"mt-2"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(j,{type:"button",onClick:u,icon:"fa-xmark",rounded:"rounded-lg",disabled:c,children:n("cancel")}),e.jsx(g,{type:"submit",icon:"fa-floppy-disk",rounded:"rounded-lg",withShadow:!1,disabled:c,children:n(c?"saving_changes":"save_changes")})]})]})})}export{E as default};
