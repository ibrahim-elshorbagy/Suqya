import{r as _,u as y,j as e}from"./app-Dsw60aLx.js";import{u as C}from"./useTrans-Dl6FgQZB.js";import{I as r,a as o}from"./InputLabel-DnHQMASs.js";import{T as F}from"./TextInput-CVDA0lPf.js";import{T as m}from"./TextArea-Cni-AL23.js";import{S}from"./SelectInput-CT5J9W3c.js";import{P as z}from"./PrimaryButton-Ml_RfRGP.js";import{z as T}from"./transition-DzFavUtC.js";function $({settings:i,timezones:u=[]}){const{t}=C(),[x,g]=_.useState(null),[f,p]=_.useState(null),{data:a,setData:n,post:j,processing:b,errors:l,recentlySuccessful:w}=y({settings:{site_name:i.site_name||"",site_description:i.site_description||"",site_keywords:i.site_keywords||"",timezone:i.timezone||"UTC",welcome_text:i.welcome_text||"",footer_text:i.footer_text||"",site_logo:i.site_logo||"",site_favicon:i.site_favicon||""},files:{},env_settings:["site_name","timezone"]}),N=u.length>0?u:[{value:"UTC",label:"UTC"},{value:"Asia/Riyadh",label:"Asia/Riyadh"},{value:"Asia/Dubai",label:"Asia/Dubai"},{value:"Africa/Cairo",label:"Africa/Cairo"}],v=(s,d)=>{if(d){n(c=>({...c,files:{...c.files,[s]:d},settings:{...c.settings,[s]:"uploading"}}));const h=new FileReader;h.onload=c=>{s==="site_logo"&&g(c.target.result),s==="site_favicon"&&p(c.target.result)},h.readAsDataURL(d)}},k=s=>{s.preventDefault(),console.log("Form data being submitted:",a),console.log("Files:",a.files),console.log("Settings:",a.settings),j(route("admin.site-settings.update"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{console.log("Upload successful"),g(null),p(null)},onError:d=>{console.log("Upload errors:",d)}})};return e.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-800 overflow-hidden animate-fadeIn",children:[e.jsx("div",{className:"p-4 border-b border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-950/30",children:e.jsxs("h2",{className:"font-semibold text-neutral-900 dark:text-neutral-100 flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-cog text-blue-500"}),t("general_settings")]})}),e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(r,{value:t("site_name")}),e.jsx(F,{value:a.settings.site_name,onChange:s=>n("settings",{...a.settings,site_name:s.target.value}),icon:"fa-globe",className:"mt-1 block w-full"}),e.jsx(o,{message:l["settings.site_name"],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(r,{value:t("site_description")}),e.jsx(m,{value:a.settings.site_description,onChange:s=>n("settings",{...a.settings,site_description:s.target.value}),icon:"fa-file-text",className:"mt-1 block w-full",rows:"3"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:t("site_description_help")}),e.jsx(o,{message:l["settings.site_description"],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(r,{value:t("site_keywords")}),e.jsx(m,{value:a.settings.site_keywords,onChange:s=>n("settings",{...a.settings,site_keywords:s.target.value}),icon:"fa-tags",className:"mt-1 block w-full",placeholder:t("site_keywords_placeholder")}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:t("site_keywords_help")}),e.jsx(o,{message:l["settings.site_keywords"],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(S,{label:t("timezone"),value:a.settings.timezone,onChange:s=>n("settings",{...a.settings,timezone:s.target.value}),options:N,icon:"fa-clock"}),e.jsx(o,{message:l["settings.timezone"],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(r,{value:t("site_logo")}),e.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[(x||i.site_logo)&&e.jsx("img",{src:x||`/storage/${i.site_logo}`,alt:"Logo",className:"h-16 w-16 object-contain border rounded"}),e.jsxs("div",{children:[e.jsx("input",{type:"file",onChange:s=>v("site_logo",s.target.files[0]),accept:"image/*",className:"hidden",id:"logo-upload"}),e.jsxs("label",{htmlFor:"logo-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg cursor-pointer hover:bg-blue-700",children:[e.jsx("i",{className:"fas fa-upload"}),t("choose_logo")]})]})]}),e.jsx(o,{message:l["files.site_logo"],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(r,{value:t("site_favicon")}),e.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[(f||i.site_favicon)&&e.jsx("img",{src:f||`/storage/${i.site_favicon}`,alt:"Favicon",className:"h-8 w-8 object-contain border rounded"}),e.jsxs("div",{children:[e.jsx("input",{type:"file",onChange:s=>v("site_favicon",s.target.files[0]),accept:"image/*",className:"hidden",id:"favicon-upload"}),e.jsxs("label",{htmlFor:"favicon-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg cursor-pointer hover:bg-blue-700",children:[e.jsx("i",{className:"fas fa-upload"}),t("choose_favicon")]})]})]}),e.jsx(o,{message:l["files.site_favicon"],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(r,{value:t("welcome_text")}),e.jsx(m,{value:a.settings.welcome_text,onChange:s=>n("settings",{...a.settings,welcome_text:s.target.value}),icon:"fa-hand-wave",className:"mt-1 block w-full",rows:"3"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:t("welcome_text_description")}),e.jsx(o,{message:l["settings.welcome_text"],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(r,{value:t("footer_text")}),e.jsx(m,{value:a.settings.footer_text,onChange:s=>n("settings",{...a.settings,footer_text:s.target.value}),icon:"fa-bookmark",className:"mt-1 block w-full",rows:"2"}),e.jsx(o,{message:l["settings.footer_text"],className:"mt-2"})]}),e.jsxs("div",{className:"pt-4 border-t border-neutral-200 dark:border-neutral-800 flex items-center gap-4",children:[e.jsx(z,{type:"submit",disabled:b,icon:"fa-floppy-disk",rounded:"rounded-lg",withShadow:!1,children:t("save_changes")}),e.jsx(T,{show:w,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-400 flex items-center gap-1",children:[e.jsx("i",{className:"fa-solid fa-check"})," ",t("saved_successfully")]})})]})]})})]})}export{$ as default};
