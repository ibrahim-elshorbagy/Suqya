import{u as h,r as x,j as e}from"./app-DDfHCP1a.js";import{I as o,a as r}from"./InputLabel-CCFlHsB6.js";import{T as d}from"./TextInput-Bp1vJSOo.js";import{P as g}from"./PrimaryButton-CLb7hosZ.js";import{S as j}from"./SecondaryButton-Ca8bRFE5.js";import{u as v}from"./useTrans-Dl6FgQZB.js";import{A as w}from"./AppModal-DK4fgm1V.js";function E({isOpen:i,onClose:c,user:s,roles:N}){const{t}=v(),{data:n,setData:l,post:_,errors:m,reset:p,processing:u}=h({name:"",email:"",password:"",password_confirmation:"",role:"",_method:"PUT"});if(x.useEffect(()=>{s&&i?l({name:s.name||"",email:s.email||"",password:"",password_confirmation:"",role:s.roles&&s.roles.length>0?s.roles[0].name:"",tenant_name:s.tenant?.name||"",tenant_slug:s.tenant?.slug||"",tenant_phone:s.tenant?.phone||"",tenant_address:s.tenant?.address||"",_method:"PUT"}):i||p()},[s,i]),!s)return null;const f=a=>{a.preventDefault(),_(route("admin.users.update",s.id),{onSuccess:()=>{p(),c()}})};return e.jsx(w,{isOpen:i,onClose:c,title:t("edit"),icon:"fa-pen-to-square",size:"md",children:e.jsxs("form",{onSubmit:f,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{htmlFor:"name",value:t("full_name"),required:!0}),e.jsx(d,{id:"name",name:"name",value:n.name,className:"mt-1 block w-full",onChange:a=>l("name",a.target.value),required:!0,icon:"fa-user"}),e.jsx(r,{message:m.name,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{htmlFor:"email",value:t("email_address"),required:!0}),e.jsx(d,{id:"email",type:"email",name:"email",value:n.email,className:"mt-1 block w-full",onChange:a=>l("email",a.target.value),required:!0,icon:"fa-envelope"}),e.jsx(r,{message:m.email,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{htmlFor:"password",value:t("password")}),e.jsx(d,{id:"password",type:"password",name:"password",value:n.password,className:"mt-1 block w-full",onChange:a=>l("password",a.target.value),icon:"fa-lock",placeholder:t("leave_empty_to_keep_current")}),e.jsx(r,{message:m.password,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{htmlFor:"password_confirmation",value:t("password_confirmation")}),e.jsx(d,{id:"password_confirmation",type:"password",name:"password_confirmation",value:n.password_confirmation,className:"mt-1 block w-full",onChange:a=>l("password_confirmation",a.target.value),icon:"fa-lock"}),e.jsx(r,{message:m.password_confirmation,className:"mt-2"})]}),n.role==="tenant"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{htmlFor:"tenant_name",value:t("tenant_name"),required:!0}),e.jsx(d,{id:"tenant_name",type:"text",name:"tenant_name",value:n.tenant_name||"",className:"mt-1 block w-full",onChange:a=>l("tenant_name",a.target.value),icon:"fa-building",required:!0}),e.jsx(r,{message:m.tenant_name,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{htmlFor:"tenant_slug",value:t("tenant_slug"),required:!0}),e.jsx(d,{id:"tenant_slug",type:"text",name:"tenant_slug",value:n.tenant_slug||"",className:"mt-1 block w-full",onChange:a=>l("tenant_slug",a.target.value),icon:"fa-link",required:!0}),e.jsx(r,{message:m.tenant_slug,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{htmlFor:"tenant_phone",value:t("tenant_phone")}),e.jsx(d,{id:"tenant_phone",type:"text",name:"tenant_phone",value:n.tenant_phone||"",className:"mt-1 block w-full",onChange:a=>l("tenant_phone",a.target.value),icon:"fa-phone"}),e.jsx(r,{message:m.tenant_phone,className:"mt-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{htmlFor:"tenant_address",value:t("tenant_address")}),e.jsx(d,{id:"tenant_address",type:"text",name:"tenant_address",value:n.tenant_address||"",className:"mt-1 block w-full",onChange:a=>l("tenant_address",a.target.value),icon:"fa-location-dot"}),e.jsx(r,{message:m.tenant_address,className:"mt-2"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[e.jsx(j,{type:"button",onClick:c,icon:"fa-xmark",rounded:"rounded-lg",disabled:u,children:t("cancel")}),e.jsx(g,{type:"submit",icon:"fa-floppy-disk",rounded:"rounded-lg",withShadow:!1,disabled:u,children:t(u?"saving_changes":"save_changes")})]})]})})}export{E as default};
