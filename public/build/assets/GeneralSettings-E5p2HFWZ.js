import{r as x,u as S,j as e}from"./app-BtU5YKbj.js";import{u as F}from"./useTrans-Dl6FgQZB.js";import{I as n,a as o}from"./InputLabel-bgSHh0K6.js";import{T as z}from"./TextInput-D_Dp7e2h.js";import{T as d}from"./TextArea-DRRcS4Ch.js";import{S as I}from"./SelectInput-DlA6IcDo.js";import{P as T}from"./PrimaryButton-Bl7JRp87.js";import{z as A}from"./transition-Dug-N9Bv.js";function B({settings:a,timezones:g=[]}){const{t}=F(),[f,p]=x.useState(null),[h,v]=x.useState(null),[_,j]=x.useState(null),{data:l,setData:r,post:w,processing:N,errors:i,recentlySuccessful:k}=S({settings:{site_name:a.site_name||"",site_description:a.site_description||"",site_keywords:a.site_keywords||"",timezone:a.timezone||"UTC",welcome_text:a.welcome_text||"",footer_text:a.footer_text||"",site_logo:a.site_logo||"",site_favicon:a.site_favicon||"",welcome_icon:a.welcome_icon||""},files:{},env_settings:["site_name","timezone"]}),y=g.length>0?g:[{value:"UTC",label:"UTC"},{value:"Asia/Riyadh",label:"Asia/Riyadh"},{value:"Asia/Dubai",label:"Asia/Dubai"},{value:"Africa/Cairo",label:"Africa/Cairo"}],u=(s,m)=>{if(m){r(c=>({...c,files:{...c.files,[s]:m},settings:{...c.settings,[s]:"uploading"}}));const b=new FileReader;b.onload=c=>{s==="site_logo"&&p(c.target.result),s==="site_favicon"&&v(c.target.result),s==="welcome_icon"&&j(c.target.result)},b.readAsDataURL(m)}},C=s=>{s.preventDefault(),w(route("admin.site-settings.update"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{p(null),v(null),j(null)},onError:m=>{}})};return e.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-800 overflow-hidden animate-fadeIn",children:[e.jsx("div",{className:"p-4 border-b border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-950/30",children:e.jsxs("h2",{className:"font-semibold text-neutral-900 dark:text-neutral-100 flex items-center gap-2",children:[e.jsx("i",{className:"fa-solid fa-cog text-blue-500"}),t("general_settings")]})}),e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(n,{value:t("site_name")}),e.jsx(z,{value:l.settings.site_name,onChange:s=>r("settings",{...l.settings,site_name:s.target.value}),icon:"fa-globe",className:"mt-1 block w-full"}),e.jsx(o,{message:i["settings.site_name"],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{value:t("site_description")}),e.jsx(d,{value:l.settings.site_description,onChange:s=>r("settings",{...l.settings,site_description:s.target.value}),icon:"fa-file-text",className:"mt-1 block w-full",rows:"3"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:t("site_description_help")}),e.jsx(o,{message:i["settings.site_description"],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{value:t("site_keywords")}),e.jsx(d,{value:l.settings.site_keywords,onChange:s=>r("settings",{...l.settings,site_keywords:s.target.value}),icon:"fa-tags",className:"mt-1 block w-full",placeholder:t("site_keywords_placeholder")}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:t("site_keywords_help")}),e.jsx(o,{message:i["settings.site_keywords"],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(I,{label:t("timezone"),value:l.settings.timezone,onChange:s=>r("settings",{...l.settings,timezone:s.target.value}),options:y,icon:"fa-clock"}),e.jsx(o,{message:i["settings.timezone"],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{value:t("site_logo")}),e.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[(f||a.site_logo)&&e.jsx("img",{src:f||`/storage/${a.site_logo}`,alt:"Logo",className:"h-16 w-16 object-contain border rounded"}),e.jsxs("div",{children:[e.jsx("input",{type:"file",onChange:s=>u("site_logo",s.target.files[0]),accept:"image/*",className:"hidden",id:"logo-upload"}),e.jsxs("label",{htmlFor:"logo-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg cursor-pointer hover:bg-blue-700",children:[e.jsx("i",{className:"fas fa-upload"}),t("choose_logo")]})]})]}),e.jsx(o,{message:i["files.site_logo"],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{value:t("site_favicon")}),e.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[(h||a.site_favicon)&&e.jsx("img",{src:h||`/storage/${a.site_favicon}`,alt:"Favicon",className:"h-8 w-8 object-contain border rounded"}),e.jsxs("div",{children:[e.jsx("input",{type:"file",onChange:s=>u("site_favicon",s.target.files[0]),accept:"image/*",className:"hidden",id:"favicon-upload"}),e.jsxs("label",{htmlFor:"favicon-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg cursor-pointer hover:bg-blue-700",children:[e.jsx("i",{className:"fas fa-upload"}),t("choose_favicon")]})]})]}),e.jsx(o,{message:i["files.site_favicon"],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{value:t("welcome_icon")}),e.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[(_||a.welcome_icon)&&e.jsx("img",{src:_||`/storage/${a.welcome_icon}`,alt:"Welcome Icon",className:"h-16 w-16 object-contain border rounded"}),e.jsxs("div",{children:[e.jsx("input",{type:"file",onChange:s=>u("welcome_icon",s.target.files[0]),accept:"image/*",className:"hidden",id:"welcome-icon-upload"}),e.jsxs("label",{htmlFor:"welcome-icon-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg cursor-pointer hover:bg-blue-700",children:[e.jsx("i",{className:"fas fa-upload"}),t("choose_welcome_icon")]})]})]}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:t("welcome_icon_description")}),e.jsx(o,{message:i["files.welcome_icon"],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{value:t("welcome_text")}),e.jsx(d,{value:l.settings.welcome_text,onChange:s=>r("settings",{...l.settings,welcome_text:s.target.value}),icon:"fa-hand-wave",className:"mt-1 block w-full",rows:"3"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:t("welcome_text_description")}),e.jsx(o,{message:i["settings.welcome_text"],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{value:t("footer_text")}),e.jsx(d,{value:l.settings.footer_text,onChange:s=>r("settings",{...l.settings,footer_text:s.target.value}),icon:"fa-bookmark",className:"mt-1 block w-full",rows:"2"}),e.jsx(o,{message:i["settings.footer_text"],className:"mt-2"})]}),e.jsxs("div",{className:"pt-4 border-t border-neutral-200 dark:border-neutral-800 flex items-center gap-4",children:[e.jsx(T,{type:"submit",disabled:N,icon:"fa-floppy-disk",rounded:"rounded-lg",withShadow:!1,children:t("save_changes")}),e.jsx(A,{show:k,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-400 flex items-center gap-1",children:[e.jsx("i",{className:"fa-solid fa-check"})," ",t("saved_successfully")]})})]})]})})]})}export{B as default};
