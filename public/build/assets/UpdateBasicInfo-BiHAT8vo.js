import{r as f,u as k,j as e}from"./app-etRuqPt_.js";import{I as d,a as o}from"./InputLabel-DF0gVgRh.js";import{T as v}from"./TextInput-BuPQQpgf.js";import{T as C}from"./TextArea-DZa_zVtk.js";import{S as F}from"./SelectInput-Bh8QNrzT.js";import{P as S}from"./PrimaryButton-lY9AHWWx.js";import{u as I}from"./useTrans-Dl6FgQZB.js";import{z as P}from"./transition-Ds6PFl9r.js";function M({tenant:t,currencies:h,className:j=""}){const{t:a}=I(),r=f.useRef(),{data:n,setData:c,post:b,processing:u,errors:i,recentlySuccessful:N}=k({name:t?.name||"",slug:t?.slug||"",currency_id:t?.currency_id||"",favicon:null,welcome_message_title:t?.welcome_message_title||""}),[x,m]=f.useState(null),_=s=>{const l=s.target.files[0];if(l){if(l.size>10*1024*1024){alert(a("file_too_large")||"File size must be less than 10MB");return}if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/ico","image/x-icon"].includes(l.type)){alert(a("invalid_file_type")||"Please select a valid image file (JPG, PNG, GIF, WEBP, ICO)");return}if(c("favicon",l),l.type!=="image/x-icon"&&l.type!=="image/ico"){const p=new FileReader;p.onload=w=>m(w.target.result),p.readAsDataURL(l)}else m(null)}},g=()=>{c("favicon",null),m(null),r.current&&(r.current.value="")},y=s=>{s.preventDefault(),b(route("tenant.basic-info.update",t.slug),n,{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{m(null),r.current&&(r.current.value="")}})};return e.jsxs("section",{className:j,children:[e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-4",children:a("update_basic_info_description")}),e.jsxs("form",{onSubmit:y,className:"space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"company_name",value:a("company_name")}),e.jsx(v,{id:"company_name",className:"mt-1 block w-full",value:n.name,onChange:s=>c("name",s.target.value),required:!0,isFocused:!0,autoComplete:"organization",icon:"fa-building"}),e.jsx(o,{className:"mt-2",message:i.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"company_slug",value:a("company_slug")}),e.jsx(v,{id:"company_slug",className:"mt-1 block w-full",value:n.slug,onChange:s=>c("slug",s.target.value),required:!0,autoComplete:"url",icon:"fa-link",placeholder:"company-name-slug"}),e.jsx(o,{className:"mt-2",message:i.slug}),e.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:a("slug_condition")})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(F,{name:"currency_id",value:n.currency_id,onChange:s=>c("currency_id",s.target.value),options:[{value:"",label:a("select_currency")||"Select Currency"},...h.map(s=>({value:s.id,label:`${s.name} (${s.code})`}))],label:a("currency")||"Currency",icon:"fa-money-bill"}),e.jsx(o,{className:"mt-2",message:i.currency_id})]}),e.jsxs("div",{className:"border border-neutral-200 dark:border-neutral-700 rounded-lg p-4 space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900 dark:text-neutral-100",children:a("favicon")||"Favicon"}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:a("favicon_description")||"Upload a favicon for your company (recommended size: 16x16 or 32x32 pixels)"}),e.jsxs("div",{className:"flex items-start gap-6",children:[t?.favicon?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"h-16 w-16 rounded-lg bg-white dark:bg-neutral-800 flex items-center justify-center border-2 border-neutral-200 dark:border-neutral-700 p-2",children:e.jsx("img",{src:`/storage/${t.favicon}`,alt:"Current favicon",className:"w-full h-full object-contain"})}),e.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mt-1",children:a("current_favicon")||"Current"})]}):e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"h-16 w-16 rounded-lg bg-neutral-200 dark:bg-neutral-700 flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-image text-neutral-400 text-xl"})}),e.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mt-1",children:a("no_favicon")||"No favicon"})]}),x?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:x,alt:"Favicon preview",className:"h-16 w-16 rounded-lg object-cover border-2 border-blue-400 dark:border-blue-600 p-1 bg-white dark:bg-neutral-800"}),e.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:a("new_favicon")||"New"}),e.jsx("button",{type:"button",onClick:g,className:"text-xs text-red-600 hover:underline",children:a("remove")||"Remove"})]}):n.favicon&&e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"h-16 w-16 rounded-lg bg-green-100 dark:bg-green-900 flex items-center justify-center border-2 border-green-400 dark:border-green-600",children:e.jsx("i",{className:"fa-solid fa-image text-green-600 dark:text-green-400 text-xl"})}),e.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:a("new_favicon")||"New"}),e.jsx("button",{type:"button",onClick:g,className:"text-xs text-red-600 hover:underline",children:a("remove")||"Remove"})]})]}),e.jsxs("div",{children:[e.jsx("input",{type:"file",ref:r,className:"hidden",onChange:_,accept:".ico,.png,.jpg,.jpeg,.gif,.webp"}),e.jsxs("label",{htmlFor:"favicon",onClick:()=>r.current?.click(),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md cursor-pointer hover:bg-blue-700 transition-colors",children:[e.jsx("i",{className:"fas fa-upload"}),a("choose_favicon")||"Choose Favicon"]}),e.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-2",children:a("favicon_requirements")||"ICO, PNG, JPG, GIF, WEBP files up to 10MB. Recommended size: 16x16 or 32x32 pixels."}),e.jsx(o,{message:i.favicon,className:"mt-2"})]})]}),e.jsxs("div",{className:"border border-neutral-200 dark:border-neutral-700 rounded-lg p-4 space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900 dark:text-neutral-100",children:a("welcome_message")||"Welcome Message"}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"welcome_message_title",value:a("welcome_message_title")||"Welcome Title"}),e.jsx(C,{rows:3,id:"welcome_message_title",className:"mt-1 block w-full",value:n.welcome_message_title,onChange:s=>c("welcome_message_title",s.target.value),placeholder:a("welcome_title_placeholder")||"Welcome to our store!",icon:"fa-heading"}),e.jsx(o,{className:"mt-2",message:i.welcome_message_title})]})})]}),e.jsxs("div",{className:"pt-4 flex items-center gap-4",children:[e.jsx(S,{type:"submit",disabled:u,icon:"fa-floppy-disk",rounded:"rounded-lg",withShadow:!1,children:u?a("saving")||"Saving...":a("save_changes")||"Save Changes"}),e.jsx(P,{show:N,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-400 flex items-center gap-1",children:[e.jsx("i",{className:"fa-solid fa-check"})," ",a("saved_successfully")||"Saved successfully!"]})})]})]})]})}export{M as default};
