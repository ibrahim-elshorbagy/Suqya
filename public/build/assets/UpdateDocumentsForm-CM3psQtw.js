import{r as u,u as C,j as e}from"./app-DhyJwdg7.js";import{u as R}from"./useTrans-Dl6FgQZB.js";import{I as b,a as j}from"./InputLabel-wfNewhcf.js";import{P as S}from"./PrimaryButton-DpBneoJo.js";function T({tenant:c,className:_=""}){const{t:r}=R(),l=u.useRef(),a=u.useRef(),{data:n,setData:f,post:N,processing:g,errors:p,reset:v,recentlySuccessful:k}=C({commercial_registration:null,profession_license:null}),[o,d]=u.useState({commercial_registration:null,profession_license:null}),h=(s,i)=>{const t=i.target.files[0];if(t){if(t.size>10*1024*1024){alert(r("document_too_large")),i.target.value="";return}if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(t.type)){alert(r("invalid_document_type")),i.target.value="";return}if(f(s,t),t.type.startsWith("image/")){const m=new FileReader;m.onload=w=>{d(F=>({...F,[s]:w.target.result}))},m.readAsDataURL(t)}else d(m=>({...m,[s]:null}))}},y=s=>{s.preventDefault(),N(route("tenant.documents.update"),n,{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{v(),d({commercial_registration:null,profession_license:null}),l.current&&(l.current.value=""),a.current&&(a.current.value="")}})},x=s=>{f(s,null),d(i=>({...i,[s]:null})),s==="commercial_registration"&&l.current&&(l.current.value=""),s==="profession_license"&&a.current&&(a.current.value="")};return e.jsxs("section",{className:`space-y-6 ${_}`,children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-neutral-900 dark:text-neutral-100",children:r("business_documents")}),e.jsx("p",{className:"mt-1 text-sm text-neutral-600 dark:text-neutral-400",children:r("upload_business_documents_description")})]}),e.jsxs("form",{onSubmit:y,className:"mt-6 space-y-6",children:[e.jsxs("div",{className:"border border-neutral-200 dark:border-neutral-700 rounded-lg p-4",children:[e.jsx(b,{htmlFor:"commercial_registration",value:r("commercial_registration")}),e.jsxs("div",{className:"mt-3 flex items-start gap-6",children:[c?.commercial_registration?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"h-20 w-20 rounded-lg bg-blue-100 dark:bg-blue-900 flex items-center justify-center border-2 border-neutral-200 dark:border-neutral-700",children:e.jsx("i",{className:"fa-solid fa-file-alt text-blue-600 dark:text-blue-400 text-2xl"})}),e.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mt-1",children:r("current_file")}),e.jsx("a",{href:`/storage/${c.commercial_registration}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline",children:r("view_file")})]}):e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"h-20 w-20 rounded-lg bg-neutral-200 dark:bg-neutral-700 flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-file-alt text-neutral-400 text-2xl"})}),e.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mt-1",children:r("no_file")})]}),o.commercial_registration?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:o.commercial_registration,alt:"Preview",className:"h-20 w-20 rounded-lg object-cover border-2 border-blue-400 dark:border-blue-600"}),e.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:r("new_file")}),e.jsx("button",{type:"button",onClick:()=>x("commercial_registration"),className:"text-xs text-red-600 hover:underline",children:r("remove")})]}):n.commercial_registration&&e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"h-20 w-20 rounded-lg bg-green-100 dark:bg-green-900 flex items-center justify-center border-2 border-green-400 dark:border-green-600",children:e.jsx("i",{className:"fa-solid fa-file-alt text-green-600 dark:text-green-400 text-2xl"})}),e.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:r("new_file")}),e.jsx("button",{type:"button",onClick:()=>x("commercial_registration"),className:"text-xs text-red-600 hover:underline",children:r("remove")})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("input",{id:"commercial_registration",type:"file",ref:l,className:"hidden",onChange:s=>h("commercial_registration",s),accept:".pdf,.jpg,.jpeg,.png"}),e.jsxs("label",{htmlFor:"commercial_registration",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md cursor-pointer hover:bg-blue-700 transition-colors",children:[e.jsx("i",{className:"fas fa-upload"}),r("choose_commercial_registration")]}),e.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-2",children:r("document_file_requirements")}),e.jsx(j,{message:p.commercial_registration,className:"mt-2"})]})]}),e.jsxs("div",{className:"border border-neutral-200 dark:border-neutral-700 rounded-lg p-4",children:[e.jsx(b,{htmlFor:"profession_license",value:r("profession_license")}),e.jsxs("div",{className:"mt-3 flex items-start gap-6",children:[c?.profession_license?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"h-20 w-20 rounded-lg bg-blue-100 dark:bg-blue-900 flex items-center justify-center border-2 border-neutral-200 dark:border-neutral-700",children:e.jsx("i",{className:"fa-solid fa-file-alt text-blue-600 dark:text-blue-400 text-2xl"})}),e.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mt-1",children:r("current_file")}),e.jsx("a",{href:`/storage/${c.profession_license}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline",children:r("view_file")})]}):e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"h-20 w-20 rounded-lg bg-neutral-200 dark:bg-neutral-700 flex items-center justify-center",children:e.jsx("i",{className:"fa-solid fa-file-alt text-neutral-400 text-2xl"})}),e.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mt-1",children:r("no_file")})]}),o.profession_license?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:o.profession_license,alt:"Preview",className:"h-20 w-20 rounded-lg object-cover border-2 border-blue-400 dark:border-blue-600"}),e.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:r("new_file")}),e.jsx("button",{type:"button",onClick:()=>x("profession_license"),className:"text-xs text-red-600 hover:underline",children:r("remove")})]}):n.profession_license&&e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"h-20 w-20 rounded-lg bg-green-100 dark:bg-green-900 flex items-center justify-center border-2 border-green-400 dark:border-green-600",children:e.jsx("i",{className:"fa-solid fa-file-alt text-green-600 dark:text-green-400 text-2xl"})}),e.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:r("new_file")}),e.jsx("button",{type:"button",onClick:()=>x("profession_license"),className:"text-xs text-red-600 hover:underline",children:r("remove")})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("input",{id:"profession_license",type:"file",ref:a,className:"hidden",onChange:s=>h("profession_license",s),accept:".pdf,.jpg,.jpeg,.png"}),e.jsxs("label",{htmlFor:"profession_license",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md cursor-pointer hover:bg-blue-700 transition-colors",children:[e.jsx("i",{className:"fas fa-upload"}),r("choose_profession_license")]}),e.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-2",children:r("document_file_requirements")}),e.jsx(j,{message:p.profession_license,className:"mt-2"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[(n.commercial_registration||n.profession_license)&&e.jsx(S,{type:"submit",disabled:g,icon:"fa-floppy-disk",rounded:"rounded-lg",withShadow:!1,children:r(g?"uploading":"save_changes")}),k&&e.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-400 flex items-center gap-1",children:[e.jsx("i",{className:"fa-solid fa-check"})," ",r("saved_successfully")]})]})]})]})}export{T as default};
