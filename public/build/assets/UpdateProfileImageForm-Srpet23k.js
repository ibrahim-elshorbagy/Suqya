import{b as N,r as u,u as _,j as e}from"./app-DSIbhGoO.js";import{u as w}from"./useTrans-Dl6FgQZB.js";import{I as y,a as k}from"./InputLabel-BOKI3cXF.js";import{P as F}from"./PrimaryButton-DfXPtYXW.js";function D({className:d=""}){const r=N().props.auth.user,{t:s}=w(),a=u.useRef(),{data:i,setData:x,post:p,processing:n,errors:f,reset:g,recentlySuccessful:h}=_({image:null,_method:"POST"}),[c,m]=u.useState(null),b=t=>{const l=t.target.files[0];if(l){x("image",l);const o=new FileReader;o.onload=v=>{m(v.target.result)},o.readAsDataURL(l)}},j=t=>{t.preventDefault(),p(route("profile.image.update"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{g("image"),m(null),a.current&&(a.current.value="")}})};return e.jsxs("section",{className:`space-y-6 ${d}`,children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-neutral-900 dark:text-neutral-100",children:s("profile_image")}),e.jsx("p",{className:"mt-1 text-sm text-neutral-600 dark:text-neutral-400",children:s("update_profile_image")})]}),e.jsxs("form",{onSubmit:j,className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx(y,{htmlFor:"image",value:s("profile_image")}),e.jsxs("div",{className:"mt-2 flex items-center gap-6",children:[r.image_url?e.jsx("div",{children:e.jsx("img",{src:r.image_url,alt:r.name,className:"h-20 w-20 rounded-full object-cover border-2 border-neutral-200 dark:border-neutral-700"})}):e.jsx("div",{className:"h-20 w-20 text-white rounded-full bg-blue-200 dark:bg-blue-700 flex items-center justify-center",children:e.jsx("span",{className:"text-neutral-500 dark:text-neutral-400 text-2xl",children:r.name?r.name.charAt(0).toUpperCase():"?"})}),c&&e.jsx("div",{children:e.jsx("img",{src:c,alt:"Preview",className:"h-20 w-20 rounded-full object-cover border-2 border-blue-400 dark:border-blue-600"})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("input",{id:"image",type:"file",ref:a,className:"hidden",onChange:b,accept:"image/*"}),e.jsxs("label",{htmlFor:"image",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md cursor-pointer hover:bg-blue-700",children:[e.jsx("i",{className:"fas fa-upload"}),s("choose_file")]}),e.jsx(k,{message:f.image,className:"mt-2"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[i.image&&e.jsx(F,{type:"submit",disabled:!i.image||n,children:s(n?"uploading":"save_changes")}),h&&e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:s("saved_successfully")})]})]})]})}export{D as default};
